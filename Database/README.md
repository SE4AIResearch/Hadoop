

# Instruction

**Collecting information from apache/hadoop repositories through data mining**

## Projects

```sqlite
CREATE TABLE IF NOT EXISTS Projects (
  number INTEGER PRIMARY KEY,
  project_id INTEGER,
  user_id INTEGER,
  project_name TEXT,
  project_url TEXT
)
```

- **number**: Indicate in this table the number of pulls or issues that refer to this repository.
- **project_id**: Unique identifiers for repositories in GitHub.
- **user_id**: Unique identifiers for users in GitHub.
- **project_name**: The name of the user's repository in GitHub
- **project_url**: The URL of the user's repository in GitHub

## Commits

```sqlite
CREATE TABLE IF NOT EXISTS Commits (
  commit_id TEXT PRIMARY KEY,
  message TEXT,
  contributor_name TEXT,
  contributor_email TEXT,
  date TEXT
)
```

- **commit_id**: Unique identifier for each commit, typically a hash value generated by version control systems like Git.
- **message**: The commit message usually describes the changes made during the commit.
- **contributor_name**: The name of the contributor who made the commit.
- **contributor_email**: The email address of the contributor who made the commit.
- **date**: The date and time when the commit was made.

## Pulls

```sqlite
CREATE TABLE IF NOT EXISTS Pulls (
  pull_request_id INTEGER PRIMARY KEY,
  number INTEGER UNIQUE,
  title TEXT,
  description TEXT,
  author_id INTEGER,
  created_at TEXT,
  updated_at TEXT,
  merged_at TEXT,
  status TEXT
)
```

- **pull_request_id**: The unique identifier for each pull request.
- **number**: Corresponds to the pull request number used in GitHub (like 6769 in "pull#6769"). This number is unique within the context of a repository.
- **title**: The title of the pull request.
- **description**: A detailed description of what the pull request entails.
- **author_id**: Unique identifiers for users in GitHub. Identifies which user authored the pull request.
- **created_at**: The timestamp when the pull request was created.
- **updated_at**: The timestamp when the pull request was last updated.
- **merged_at**: The timestamp when the pull request was merged, if applicable.
- **status**: The current status of the pull request (open, closed, merged).

## Issues

```sqlite
CREATE TABLE IF NOT EXISTS Issues (
  issue_id INTEGER PRIMARY KEY,
  number INTEGER UNIQUE,
  title TEXT,
  description TEXT,
  author_id INTEGER,
  created_at TEXT,
  updated_at TEXT,
  status TEXT
)
```

- **issue_id**: The unique identifier for each issue.
- **number**: Mirroring the pull request number, this is the unique issue number within the repository context.
- **title**: The title of the issue.
- **description**: A detailed description of the issue.
- **author_id**: Unique identifiers for users in GitHub. Identifies which user created the issue.
- **created_at**: The timestamp when the issue was created.
- **updated_at**: The timestamp when the issue was last updated.
- **status**: The current status of the issue (open, closed).

**Issues have no attribute named merged_at**

## Comments

- **Pull request message** and Issue comment are merged into a single Comments table.

- When calling the GitHub API to fetch an Issue, if the **pull_request** field is empty, the **comments_url** points to a regular Issue comment; otherwise, it's a Pull comment.

```sqlite
CREATE TABLE IF NOT EXISTS Comments (
  comment_id INTEGER PRIMARY KEY,
  number INTEGER,
  comment_type TEXT,  -- 'Pull_comment' or 'Issue_comment'
  author_id INTEGER,
  created_at TEXT,
  body TEXT
)
```

- **comment_id**: The unique identifier for each comment.
- **number**: This refers to the number of the pull request or issue to which the comment belongs.
- **comment_type**: Specifies whether the comment is related to a pull request 
- **author_id**: Identifies the user who commented.
- **created_at**: The timestamp when the comment was created.
- **body**: The actual text content of the comment.

